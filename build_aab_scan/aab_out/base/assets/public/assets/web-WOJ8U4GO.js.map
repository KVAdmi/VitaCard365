{"version":3,"file":"web-WOJ8U4GO.js","sources":["../../node_modules/@capacitor-community/bluetooth-le/dist/esm/timeout.js","../../node_modules/@capacitor-community/bluetooth-le/dist/esm/web.js"],"sourcesContent":["export async function runWithTimeout(promise, time, exception) {\n    let timer;\n    return Promise.race([\n        promise,\n        new Promise((_, reject) => {\n            timer = setTimeout(() => reject(exception), time);\n        }),\n    ]).finally(() => clearTimeout(timer));\n}\n//# sourceMappingURL=timeout.js.map","import { WebPlugin } from '@capacitor/core';\nimport { hexStringToDataView, mapToObject, webUUIDToString } from './conversion';\nimport { runWithTimeout } from './timeout';\nexport class BluetoothLeWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.deviceMap = new Map();\n        this.discoveredDevices = new Map();\n        this.scan = null;\n        this.DEFAULT_CONNECTION_TIMEOUT = 10000;\n        this.onAdvertisementReceivedCallback = this.onAdvertisementReceived.bind(this);\n        this.onDisconnectedCallback = this.onDisconnected.bind(this);\n        this.onCharacteristicValueChangedCallback = this.onCharacteristicValueChanged.bind(this);\n    }\n    async initialize() {\n        if (typeof navigator === 'undefined' || !navigator.bluetooth) {\n            throw this.unavailable('Web Bluetooth API not available in this browser.');\n        }\n        const isAvailable = await navigator.bluetooth.getAvailability();\n        if (!isAvailable) {\n            throw this.unavailable('No Bluetooth radio available.');\n        }\n    }\n    async isEnabled() {\n        // not available on web\n        return { value: true };\n    }\n    async requestEnable() {\n        throw this.unavailable('requestEnable is not available on web.');\n    }\n    async enable() {\n        throw this.unavailable('enable is not available on web.');\n    }\n    async disable() {\n        throw this.unavailable('disable is not available on web.');\n    }\n    async startEnabledNotifications() {\n        // not available on web\n    }\n    async stopEnabledNotifications() {\n        // not available on web\n    }\n    async isLocationEnabled() {\n        throw this.unavailable('isLocationEnabled is not available on web.');\n    }\n    async openLocationSettings() {\n        throw this.unavailable('openLocationSettings is not available on web.');\n    }\n    async openBluetoothSettings() {\n        throw this.unavailable('openBluetoothSettings is not available on web.');\n    }\n    async openAppSettings() {\n        throw this.unavailable('openAppSettings is not available on web.');\n    }\n    async setDisplayStrings() {\n        // not available on web\n    }\n    async requestDevice(options) {\n        const filters = this.getFilters(options);\n        const device = await navigator.bluetooth.requestDevice({\n            filters: filters.length ? filters : undefined,\n            optionalServices: options === null || options === void 0 ? void 0 : options.optionalServices,\n            acceptAllDevices: filters.length === 0,\n        });\n        this.deviceMap.set(device.id, device);\n        const bleDevice = this.getBleDevice(device);\n        return bleDevice;\n    }\n    async requestLEScan(options) {\n        this.requestBleDeviceOptions = options;\n        const filters = this.getFilters(options);\n        await this.stopLEScan();\n        this.discoveredDevices = new Map();\n        navigator.bluetooth.removeEventListener('advertisementreceived', this.onAdvertisementReceivedCallback);\n        navigator.bluetooth.addEventListener('advertisementreceived', this.onAdvertisementReceivedCallback);\n        this.scan = await navigator.bluetooth.requestLEScan({\n            filters: filters.length ? filters : undefined,\n            acceptAllAdvertisements: filters.length === 0,\n            keepRepeatedDevices: options === null || options === void 0 ? void 0 : options.allowDuplicates,\n        });\n    }\n    onAdvertisementReceived(event) {\n        var _a, _b;\n        const deviceId = event.device.id;\n        this.deviceMap.set(deviceId, event.device);\n        const isNew = !this.discoveredDevices.has(deviceId);\n        if (isNew || ((_a = this.requestBleDeviceOptions) === null || _a === void 0 ? void 0 : _a.allowDuplicates)) {\n            this.discoveredDevices.set(deviceId, true);\n            const device = this.getBleDevice(event.device);\n            const result = {\n                device,\n                localName: device.name,\n                rssi: event.rssi,\n                txPower: event.txPower,\n                manufacturerData: mapToObject(event.manufacturerData),\n                serviceData: mapToObject(event.serviceData),\n                uuids: (_b = event.uuids) === null || _b === void 0 ? void 0 : _b.map(webUUIDToString),\n            };\n            this.notifyListeners('onScanResult', result);\n        }\n    }\n    async stopLEScan() {\n        var _a;\n        if ((_a = this.scan) === null || _a === void 0 ? void 0 : _a.active) {\n            this.scan.stop();\n        }\n        this.scan = null;\n    }\n    async getDevices(options) {\n        const devices = await navigator.bluetooth.getDevices();\n        const bleDevices = devices\n            .filter((device) => options.deviceIds.includes(device.id))\n            .map((device) => {\n            this.deviceMap.set(device.id, device);\n            const bleDevice = this.getBleDevice(device);\n            return bleDevice;\n        });\n        return { devices: bleDevices };\n    }\n    async getConnectedDevices(_options) {\n        const devices = await navigator.bluetooth.getDevices();\n        const bleDevices = devices\n            .filter((device) => {\n            var _a;\n            return (_a = device.gatt) === null || _a === void 0 ? void 0 : _a.connected;\n        })\n            .map((device) => {\n            this.deviceMap.set(device.id, device);\n            const bleDevice = this.getBleDevice(device);\n            return bleDevice;\n        });\n        return { devices: bleDevices };\n    }\n    async connect(options) {\n        var _a, _b;\n        const device = this.getDeviceFromMap(options.deviceId);\n        device.removeEventListener('gattserverdisconnected', this.onDisconnectedCallback);\n        device.addEventListener('gattserverdisconnected', this.onDisconnectedCallback);\n        const timeoutError = Symbol();\n        if (device.gatt === undefined) {\n            throw new Error('No gatt server available.');\n        }\n        try {\n            const timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : this.DEFAULT_CONNECTION_TIMEOUT;\n            await runWithTimeout(device.gatt.connect(), timeout, timeoutError);\n        }\n        catch (error) {\n            // cancel pending connect call, does not work yet in chromium because of a bug:\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=684073\n            await ((_b = device.gatt) === null || _b === void 0 ? void 0 : _b.disconnect());\n            if (error === timeoutError) {\n                throw new Error('Connection timeout');\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n    onDisconnected(event) {\n        const deviceId = event.target.id;\n        const key = `disconnected|${deviceId}`;\n        this.notifyListeners(key, null);\n    }\n    async createBond(_options) {\n        throw this.unavailable('createBond is not available on web.');\n    }\n    async isBonded(_options) {\n        throw this.unavailable('isBonded is not available on web.');\n    }\n    async disconnect(options) {\n        var _a;\n        (_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n    async getServices(options) {\n        var _a, _b;\n        const services = (_b = (await ((_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.getPrimaryServices()))) !== null && _b !== void 0 ? _b : [];\n        const bleServices = [];\n        for (const service of services) {\n            const characteristics = await service.getCharacteristics();\n            const bleCharacteristics = [];\n            for (const characteristic of characteristics) {\n                bleCharacteristics.push({\n                    uuid: characteristic.uuid,\n                    properties: this.getProperties(characteristic),\n                    descriptors: await this.getDescriptors(characteristic),\n                });\n            }\n            bleServices.push({ uuid: service.uuid, characteristics: bleCharacteristics });\n        }\n        return { services: bleServices };\n    }\n    async getDescriptors(characteristic) {\n        try {\n            const descriptors = await characteristic.getDescriptors();\n            return descriptors.map((descriptor) => ({\n                uuid: descriptor.uuid,\n            }));\n        }\n        catch (_a) {\n            return [];\n        }\n    }\n    getProperties(characteristic) {\n        return {\n            broadcast: characteristic.properties.broadcast,\n            read: characteristic.properties.read,\n            writeWithoutResponse: characteristic.properties.writeWithoutResponse,\n            write: characteristic.properties.write,\n            notify: characteristic.properties.notify,\n            indicate: characteristic.properties.indicate,\n            authenticatedSignedWrites: characteristic.properties.authenticatedSignedWrites,\n            reliableWrite: characteristic.properties.reliableWrite,\n            writableAuxiliaries: characteristic.properties.writableAuxiliaries,\n        };\n    }\n    async getCharacteristic(options) {\n        var _a;\n        const service = await ((_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.getPrimaryService(options === null || options === void 0 ? void 0 : options.service));\n        return service === null || service === void 0 ? void 0 : service.getCharacteristic(options === null || options === void 0 ? void 0 : options.characteristic);\n    }\n    async getDescriptor(options) {\n        const characteristic = await this.getCharacteristic(options);\n        return characteristic === null || characteristic === void 0 ? void 0 : characteristic.getDescriptor(options === null || options === void 0 ? void 0 : options.descriptor);\n    }\n    async discoverServices(_options) {\n        throw this.unavailable('discoverServices is not available on web.');\n    }\n    async getMtu(_options) {\n        throw this.unavailable('getMtu is not available on web.');\n    }\n    async requestConnectionPriority(_options) {\n        throw this.unavailable('requestConnectionPriority is not available on web.');\n    }\n    async readRssi(_options) {\n        throw this.unavailable('readRssi is not available on web.');\n    }\n    async read(options) {\n        const characteristic = await this.getCharacteristic(options);\n        const value = await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.readValue());\n        return { value };\n    }\n    async write(options) {\n        const characteristic = await this.getCharacteristic(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.writeValueWithResponse(dataView));\n    }\n    async writeWithoutResponse(options) {\n        const characteristic = await this.getCharacteristic(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.writeValueWithoutResponse(dataView));\n    }\n    async readDescriptor(options) {\n        const descriptor = await this.getDescriptor(options);\n        const value = await (descriptor === null || descriptor === void 0 ? void 0 : descriptor.readValue());\n        return { value };\n    }\n    async writeDescriptor(options) {\n        const descriptor = await this.getDescriptor(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (descriptor === null || descriptor === void 0 ? void 0 : descriptor.writeValue(dataView));\n    }\n    async startNotifications(options) {\n        const characteristic = await this.getCharacteristic(options);\n        characteristic === null || characteristic === void 0 ? void 0 : characteristic.removeEventListener('characteristicvaluechanged', this.onCharacteristicValueChangedCallback);\n        characteristic === null || characteristic === void 0 ? void 0 : characteristic.addEventListener('characteristicvaluechanged', this.onCharacteristicValueChangedCallback);\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.startNotifications());\n    }\n    onCharacteristicValueChanged(event) {\n        var _a, _b;\n        const characteristic = event.target;\n        const key = `notification|${(_a = characteristic.service) === null || _a === void 0 ? void 0 : _a.device.id}|${(_b = characteristic.service) === null || _b === void 0 ? void 0 : _b.uuid}|${characteristic.uuid}`;\n        this.notifyListeners(key, {\n            value: characteristic.value,\n        });\n    }\n    async stopNotifications(options) {\n        const characteristic = await this.getCharacteristic(options);\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.stopNotifications());\n    }\n    getFilters(options) {\n        var _a;\n        const filters = [];\n        for (const service of (_a = options === null || options === void 0 ? void 0 : options.services) !== null && _a !== void 0 ? _a : []) {\n            filters.push({\n                services: [service],\n                name: options === null || options === void 0 ? void 0 : options.name,\n                namePrefix: options === null || options === void 0 ? void 0 : options.namePrefix,\n            });\n        }\n        if (((options === null || options === void 0 ? void 0 : options.name) || (options === null || options === void 0 ? void 0 : options.namePrefix)) && filters.length === 0) {\n            filters.push({\n                name: options.name,\n                namePrefix: options.namePrefix,\n            });\n        }\n        return filters;\n    }\n    getDeviceFromMap(deviceId) {\n        const device = this.deviceMap.get(deviceId);\n        if (device === undefined) {\n            throw new Error('Device not found. Call \"requestDevice\", \"requestLEScan\" or \"getDevices\" first.');\n        }\n        return device;\n    }\n    getBleDevice(device) {\n        var _a;\n        const bleDevice = {\n            deviceId: device.id,\n            // use undefined instead of null if name is not available\n            name: (_a = device.name) !== null && _a !== void 0 ? _a : undefined,\n        };\n        return bleDevice;\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["runWithTimeout","promise","time","exception","timer","_","reject","BluetoothLeWeb","WebPlugin","options","filters","device","event","_a","_b","deviceId","result","mapToObject","webUUIDToString","_options","timeoutError","timeout","error","key","services","bleServices","service","characteristics","bleCharacteristics","characteristic","descriptor","dataView","hexStringToDataView"],"mappings":"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","x_google_ignoreList":[0,1]}